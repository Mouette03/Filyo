<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Filyo  Aperçu Interface</title>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --brand: 92 107 250;
    --brand-hex: #5c6bfa; --brand-light: #7a8dff; --brand-dark: #3c40d4;
    --s900: #0d0e1a; --s800: #13152a; --s700: #1c1f3a; --s600: #252850;
    --text: #fff; --text4: rgba(255,255,255,.4); --text3: rgba(255,255,255,.3); --text5: rgba(255,255,255,.5);
    --glass: rgba(255,255,255,.04); --glass-b: rgba(255,255,255,.08);
    --input-bg: rgba(255,255,255,.05); --input-b: rgba(255,255,255,.10);
    --radial1: rgba(92,107,250,.13);
  }
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif; background: var(--s900); color: var(--text); min-height: 100vh; transition: background .3s, color .3s; }
  body::before { content:""; position:fixed; top:-30%; left:50%; transform:translateX(-50%); width:80%; height:80%; background:radial-gradient(ellipse, var(--radial1), transparent 70%); pointer-events:none; z-index:0; }

  .navbar { position:sticky; top:0; z-index:50; background:rgba(19,21,42,.85); backdrop-filter:blur(20px); border-bottom:1px solid var(--glass-b); height:64px; display:flex; align-items:center; justify-content:space-between; padding:0 28px; transition:background .3s; }
  .logo { display:flex; align-items:center; gap:10px; font-weight:700; font-size:18px; text-decoration:none; color:var(--text); cursor:pointer; }
  .logo-icon { width:32px; height:32px; border-radius:8px; background:linear-gradient(135deg,#5c6bfa,#3c40d4); display:flex; align-items:center; justify-content:center; font-size:15px; box-shadow:0 4px 14px rgba(92,107,250,.4); }
  .logo span { color:var(--brand-light); }
  .nav-links { display:flex; gap:4px; align-items:center; }
  .nav-link { padding:8px 14px; border-radius:10px; font-size:14px; font-weight:500; color:var(--text5); transition:all .2s; cursor:pointer; }
  .nav-link:hover, .nav-link.active { background:rgba(255,255,255,.1); color:var(--text); }

  .user-menu-wrap { position:relative; }
  .user-avatar { width:36px; height:36px; border-radius:10px; background:linear-gradient(135deg,#5c6bfa,#3c40d4); display:flex; align-items:center; justify-content:center; font-size:13px; font-weight:700; cursor:pointer; border:2px solid rgba(255,255,255,.1); transition:border-color .2s; }
  .user-avatar:hover { border-color:var(--brand); }
  .user-dropdown { position:absolute; top:calc(100% + 10px); right:0; min-width:220px; background:var(--s800); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:6px; box-shadow:0 16px 48px rgba(0,0,0,.5); display:none; z-index:200; }
  .user-dropdown.open { display:block; animation:fadeIn .15s ease; }
  .user-info { padding:10px 12px 12px; border-bottom:1px solid rgba(255,255,255,.07); margin-bottom:4px; }
  .user-name { font-size:14px; font-weight:600; }
  .user-email { font-size:12px; color:var(--text4); margin-top:2px; }
  .dd-item { display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:8px; font-size:13px; color:var(--text5); cursor:pointer; transition:all .15s; }
  .dd-item:hover { background:rgba(255,255,255,.07); color:#fff; }
  .dd-item.danger:hover { background:rgba(239,68,68,.12); color:#f87171; }
  .dd-sep { height:1px; background:rgba(255,255,255,.07); margin:4px 0; }

  .main { position:relative; z-index:1; }
  .page { display:none; }
  .page.active { display:block; animation:fadeIn .25s ease; }
  .container { max-width:660px; margin:0 auto; padding:48px 20px; }
  .container-wide { max-width:920px; margin:0 auto; padding:40px 20px; }

  .card { background:var(--glass); border:1px solid var(--glass-b); border-radius:16px; padding:24px; transition:background .3s, border-color .3s; }

  .page-title { font-size:36px; font-weight:800; line-height:1.15; text-align:center; margin-bottom:12px; }
  .page-title span { color:var(--brand-light); }
  .page-subtitle { color:var(--text5); text-align:center; font-size:17px; margin-bottom:40px; }

  .dropzone { border:2px dashed rgba(255,255,255,.18); border-radius:20px; padding:56px 40px; text-align:center; cursor:pointer; transition:all .3s; margin-bottom:20px; }
  .dropzone:hover { border-color:var(--brand); background:rgba(92,107,250,.07); }
  .dz-icon { width:64px; height:64px; border-radius:16px; background:rgba(255,255,255,.06); display:flex; align-items:center; justify-content:center; font-size:28px; margin:0 auto 16px; }
  .dropzone h3 { font-size:17px; font-weight:600; color:var(--text); margin-bottom:6px; }
  .dropzone p { font-size:14px; color:var(--text4); }

  .input { width:100%; background:var(--input-bg); border:1px solid var(--input-b); border-radius:12px; padding:10px 14px; color:var(--text); font-size:14px; outline:none; transition:border-color .2s, background .3s; }
  .input:focus { border-color:rgb(var(--brand) / .5); }
  .input::placeholder { color:var(--text3); }
  select.input { cursor:pointer; }
  select.input option { background:#1c1f3a; }
  .label { display:block; font-size:11px; font-weight:600; text-transform:uppercase; letter-spacing:.05em; color:var(--text4); margin-bottom:6px; }
  .grid2 { display:grid; grid-template-columns:1fr 1fr; gap:14px; }
  .col2 { grid-column:1/-1; }

  .btn { display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:11px 22px; border-radius:12px; font-size:14px; font-weight:600; cursor:pointer; border:none; transition:all .2s; }
  .btn-block { width:100%; margin-top:16px; }
  .btn-primary { background:var(--brand-hex); color:#fff; box-shadow:0 4px 20px rgb(var(--brand) / .3); }
  .btn-primary:hover { background:var(--brand-light); transform:translateY(-1px); }
  .btn-secondary { background:var(--glass); color:var(--text5); border:1px solid var(--glass-b); }
  .btn-secondary:hover { background:rgba(255,255,255,.1); color:var(--text); }
  .btn-danger { background:rgba(239,68,68,.12); color:#f87171; border:1px solid rgba(239,68,68,.2); }
  .btn-danger:hover { background:rgba(239,68,68,.25); }
  .btn-sm { padding:6px 14px; font-size:12px; border-radius:8px; }

  .badge { display:inline-flex; align-items:center; gap:4px; font-size:11px; font-weight:600; padding:3px 9px; border-radius:99px; }
  .badge-green { background:rgba(16,185,129,.15); color:#34d399; border:1px solid rgba(16,185,129,.25); }
  .badge-orange { background:rgba(251,146,60,.15); color:#fb923c; border:1px solid rgba(251,146,60,.25); }
  .badge-red { background:rgba(239,68,68,.15); color:#f87171; border:1px solid rgba(239,68,68,.25); }
  .badge-blue { background:rgb(var(--brand) / .15); color:var(--brand-light); border:1px solid rgb(var(--brand) / .25); }

  .file-row { display:flex; align-items:center; gap:12px; background:rgba(255,255,255,.04); border-radius:12px; padding:11px 14px; margin-bottom:8px; }
  .file-icon { font-size:22px; flex-shrink:0; }
  .file-info { flex:1; min-width:0; }
  .file-name { font-size:14px; font-weight:500; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .file-meta { font-size:12px; color:var(--text4); margin-top:2px; }
  .file-x { color:var(--text3); cursor:pointer; font-size:16px; }
  .file-x:hover { color:#ef4444; }

  .progress { height:4px; background:rgba(255,255,255,.08); border-radius:99px; overflow:hidden; margin-top:14px; }
  .progress-fill { height:100%; background:linear-gradient(90deg,#3c40d4,#7a8dff); border-radius:99px; animation:pg 1.6s ease-out forwards; }
  @keyframes pg { from{width:0} to{width:74%} }

  .share-result { display:flex; align-items:center; gap:12px; background:rgba(255,255,255,.05); border-radius:13px; padding:12px 15px; margin-bottom:8px; border:1px solid rgba(255,255,255,.07); }
  .share-link { flex:1; font-size:13px; color:var(--brand-light); font-family:monospace; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .copy-btn { padding:5px 13px; border-radius:8px; font-size:12px; font-weight:600; background:rgba(92,107,250,.2); color:var(--brand-light); border:1px solid rgba(92,107,250,.3); cursor:pointer; white-space:nowrap; transition:all .2s; }
  .copy-btn:hover { background:var(--brand-hex); color:#fff; }
  .copy-btn.copied { background:rgba(16,185,129,.2); color:#34d399; border-color:rgba(16,185,129,.3); }

  .success-icon { width:52px; height:52px; background:rgba(16,185,129,.15); border-radius:14px; display:flex; align-items:center; justify-content:center; font-size:24px; margin:0 auto 14px; }

  .stat-card { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.07); border-radius:14px; padding:18px; text-align:center; }
  .stat-val { font-size:26px; font-weight:800; color:var(--brand-light); }
  .stat-lbl { font-size:12px; color:var(--text4); margin-top:4px; }

  .disk-widget { display:flex; align-items:center; gap:18px; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.07); border-radius:14px; padding:16px 20px; margin-bottom:24px; }
  .disk-icon { width:42px; height:42px; background:rgba(92,107,250,.15); border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:20px; flex-shrink:0; }
  .disk-body { flex:1; }
  .disk-label { display:flex; justify-content:space-between; align-items:center; font-size:13px; margin-bottom:8px; }
  .disk-label span { color:var(--text4); font-size:12px; }
  .disk-bar { height:8px; background:rgba(255,255,255,.08); border-radius:99px; overflow:hidden; }
  .disk-fill { height:100%; border-radius:99px; }
  .disk-pct { font-size:16px; font-weight:700; flex-shrink:0; }

  .tabs { display:flex; gap:4px; background:rgba(255,255,255,.05); padding:4px; border-radius:12px; width:fit-content; margin-bottom:20px; }
  .tab { padding:7px 18px; border-radius:10px; font-size:13px; font-weight:500; cursor:pointer; color:var(--text5); transition:all .2s; }
  .tab.active { background:rgba(255,255,255,.1); color:var(--text); }

  .dash-row { display:flex; align-items:center; gap:14px; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.06); border-radius:13px; padding:14px 16px; margin-bottom:8px; }
  .dash-icon { width:40px; height:40px; border-radius:11px; background:rgba(92,107,250,.14); display:flex; align-items:center; justify-content:center; font-size:18px; flex-shrink:0; }
  .dash-info { flex:1; min-width:0; }
  .dash-name { font-size:14px; font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .dash-meta { font-size:12px; color:var(--text4); margin-top:3px; }
  .dash-actions { display:flex; gap:8px; flex-shrink:0; }
  .act { padding:5px 12px; border-radius:8px; font-size:12px; font-weight:500; cursor:pointer; border:none; transition:all .2s; }
  .act-share { background:rgba(92,107,250,.15); color:var(--brand-light); }
  .act-share:hover { background:var(--brand-hex); color:#fff; }
  .act-del { background:rgba(239,68,68,.1); color:#f87171; border:1px solid rgba(239,68,68,.2); }
  .act-del:hover { background:rgba(239,68,68,.25); }

  .user-row { display:flex; align-items:center; gap:14px; border:1px solid rgba(255,255,255,.07); border-radius:13px; padding:14px 18px; margin-bottom:8px; }
  .user-avatar-sm { width:40px; height:40px; border-radius:11px; background:rgba(92,107,250,.18); display:flex; align-items:center; justify-content:center; font-size:14px; font-weight:700; color:var(--brand-light); flex-shrink:0; }
  .user-details { flex:1; min-width:0; }
  .user-fullname { font-size:14px; font-weight:600; }
  .user-mail { font-size:12px; color:var(--text4); margin-top:2px; }

  .section-title { display:flex; align-items:center; gap:10px; font-size:14px; font-weight:600; color:var(--text5); margin-bottom:16px; }
  .section-icon { width:32px; height:32px; border-radius:9px; background:rgba(92,107,250,.15); display:flex; align-items:center; justify-content:center; font-size:15px; }
  .logo-preview { width:96px; height:96px; border-radius:16px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1); display:flex; align-items:center; justify-content:center; font-size:38px; }

  .login-wrap { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; }

  .dl-wrap { max-width:440px; margin:80px auto; padding:0 20px; }
  .dl-header { display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:40px; }
  .meta-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:18px; }
  .meta-item { background:rgba(255,255,255,.05); border-radius:12px; padding:11px 14px; }
  .meta-lbl { font-size:11px; color:var(--text4); margin-bottom:4px; font-weight:500; }
  .meta-val { font-size:13px; font-weight:500; }

  .toggle { width:40px; height:22px; border-radius:99px; position:relative; cursor:pointer; transition:background .2s; flex-shrink:0; }
  .toggle.on { background:var(--brand-hex); }
  .toggle.off { background:rgba(255,255,255,.2); }
  .toggle-thumb { position:absolute; top:2px; width:18px; height:18px; background:#fff; border-radius:50%; box-shadow:0 1px 4px rgba(0,0,0,.3); transition:transform .2s; }
  .toggle.on .toggle-thumb { transform:translateX(18px); }
  .toggle.off .toggle-thumb { transform:translateX(2px); }

  .edit-row { background:rgba(92,107,250,.07); border:1px solid rgba(92,107,250,.2); border-radius:13px; padding:16px 18px; margin-bottom:8px; }

  @keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:none} }

  /* ===== THEME CLAIR ===== */
  body.light {
    --s900: #eef0f8; --s800: #ffffff; --s700: #e4e8f4; --s600: #d8dcee;
    --text: #0c0e2a; --text4: rgba(12,14,42,.45); --text3: rgba(12,14,42,.38); --text5: rgba(12,14,42,.55);
    --glass: rgba(255,255,255,.78); --glass-b: rgba(12,14,42,.10);
    --input-bg: rgba(255,255,255,.92); --input-b: rgba(12,14,42,.14);
    --radial1: rgb(var(--brand) / .07);
    color: #0c0e2a; background: var(--s900);
  }
  body.light .navbar { background:rgba(255,255,255,.92); border-color:rgba(12,14,42,.08); }
  body.light .nav-link:hover, body.light .nav-link.active { background:rgba(12,14,42,.08); color:#0c0e2a; }
  body.light .user-dropdown { background:#fff; border-color:rgba(12,14,42,.10); }
  body.light .user-info { border-color:rgba(12,14,42,.08); }
  body.light .dd-item { color:rgba(12,14,42,.7); }
  body.light .dd-item:hover { background:rgba(12,14,42,.05); color:#0c0e2a; }
  body.light .dd-sep { background:rgba(12,14,42,.07); }
  body.light .demo-nav { background:rgba(230,234,248,.97); border-color:rgba(12,14,42,.12); }
  body.light .demo-btn { background:rgba(12,14,42,.07); color:rgba(12,14,42,.7); }
  body.light .file-row, body.light .dash-row, body.light .user-row, body.light .meta-item,
  body.light .stat-card, body.light .disk-widget { background:rgba(255,255,255,.75); border-color:rgba(12,14,42,.08); }
  body.light .dropzone { border-color:rgba(12,14,42,.15); }
  body.light .dropzone h3 { color:rgba(12,14,42,.8); }
  body.light .dropzone p { color:rgba(12,14,42,.4); }
  body.light .edit-row { background:rgb(var(--brand) / .05); border-color:rgb(var(--brand) / .2); }
  body.light .tabs { background:rgba(12,14,42,.06); }
  body.light .tab.active { background:rgba(12,14,42,.12); color:#0c0e2a; }
  body.light .btn-secondary { background:rgba(12,14,42,.07); color:rgba(12,14,42,.75); border-color:rgba(12,14,42,.14); }
  body.light .btn-secondary:hover { background:rgba(12,14,42,.13); color:#0c0e2a; }
  body.light select.input option { background:#fff; color:#0c0e2a; }
  body.light ::-webkit-scrollbar-thumb { background:rgba(12,14,42,.18); }

  /* ===== ACCENT SWATCHES ===== */
  .accent-grid { display:flex; flex-wrap:wrap; gap:10px; }
  .accent-swatch { width:36px; height:36px; border-radius:10px; cursor:pointer; border:3px solid transparent; transition:all .2s; position:relative; }
  .accent-swatch:hover { transform:scale(1.12); }
  .accent-swatch.active { border-color:rgba(255,255,255,.8); box-shadow:0 0 0 2px rgba(0,0,0,.3); }
  body.light .accent-swatch.active { border-color:rgba(12,14,42,.6); }
  .bg-swatch { width:36px; height:36px; border-radius:10px; cursor:pointer; border:3px solid transparent; transition:all .2s; box-shadow:inset 0 0 0 1px rgba(255,255,255,.15); }
  .bg-swatch:hover { transform:scale(1.12); }
  .bg-swatch.active { border-color:rgba(255,255,255,.8); box-shadow:0 0 0 2px rgba(0,0,0,.3),inset 0 0 0 1px rgba(255,255,255,.15); }
  body.light .bg-swatch.active { border-color:rgba(12,14,42,.6); }

  /* ===== THEME BUTTONS ===== */
  .theme-grid { display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px; }
  .theme-btn { display:flex; flex-direction:column; align-items:center; gap:6px; padding:12px 8px; border-radius:12px; border:1px solid var(--glass-b); background:var(--glass); cursor:pointer; font-size:12px; color:var(--text5); transition:all .2s; }
  .theme-btn:hover { border-color:rgb(var(--brand) / .4); color:var(--text); }
  .theme-btn.active { border-color:var(--brand-hex); background:rgb(var(--brand) / .12); color:var(--brand-hex); }
  .theme-btn .theme-icon { font-size:22px; }

  .demo-nav { position:fixed; bottom:18px; left:50%; transform:translateX(-50%); display:flex; align-items:center; gap:5px; background:rgba(10,11,22,.93); border:1px solid rgba(255,255,255,.12); padding:7px 12px; border-radius:99px; backdrop-filter:blur(20px); z-index:300; flex-wrap:wrap; max-width:96vw; justify-content:center; }
  .demo-nav span { font-size:11px; color:rgba(255,255,255,.35); padding:3px 4px; white-space:nowrap; }
  .demo-btn { padding:4px 12px; border-radius:20px; background:rgba(255,255,255,.07); border:none; color:rgba(255,255,255,.7); font-size:12px; cursor:pointer; white-space:nowrap; transition:all .15s; }
  .demo-btn:hover, .demo-btn.active { background:var(--brand-hex); color:#fff; }

  footer { border-top:1px solid var(--glass-b); display:flex; align-items:center; justify-content:center; position:relative; padding:16px 24px; font-size:12px; color:var(--text4); z-index:1; margin-top:60px; }
</style>
</head>
<body>

<nav class="navbar" id="navbar">
  <div class="logo" onclick="showPage('send')"><div class="logo-icon">&#x21C5;</div><span>Fil<span style="color:var(--brand-light)">yo</span></span></div>
  <div class="nav-links" id="main-nav">
    <div class="nav-link active" onclick="showPage('send',this)">&#x2191; Envoyer</div>
    <div class="nav-link" onclick="showPage('request',this)">&#x21C4; Partage inversé</div>
    <div class="nav-link" onclick="showPage('dashboard',this)">&#x25A6; Dashboard</div>
  </div>
  <!-- Avatar + dropdown dans user-menu-wrap -->
  <div class="user-menu-wrap">
    <div id="nav-avatar-circle" class="user-avatar" style="overflow:hidden;display:flex;align-items:center;justify-content:center;cursor:pointer" onclick="toggleDropdown()">AS</div>
    <div class="user-dropdown" id="user-dd">
      <div class="user-info">
        <div id="nav-avatar-preview" style="display:none;width:40px;height:40px;border-radius:10px;overflow:hidden;margin-bottom:8px"><img id="nav-avatar-img" src="" style="width:100%;height:100%;object-fit:cover"/></div>
        <div class="user-name">Alice Schneider</div>
        <div class="user-email">alice@filyo.local</div>
        <div style="margin-top:6px"><span class="badge badge-blue">Admin</span></div>
      </div>
      <div class="dd-item" onclick="showPage('profile');closeDropdown()">&#x1F464; Mon profil</div>
      <div class="dd-item" onclick="showPage('users');closeDropdown()">&#x1F6E1; Administration</div>
      <div class="dd-item" onclick="showPage('settings');closeDropdown()">&#x2699;&#xFE0F; Réglages</div>
      <div class="dd-sep"></div>
      <div class="dd-item danger" onclick="showPage('login');closeDropdown()">Deconnexion</div>
    </div>
  </div>
</nav>

<div class="main">

<div id="page-login" class="page">
<div class="login-wrap">
  <div style="width:100%;max-width:400px;">
    <div style="text-align:center;margin-bottom:32px;">
      <div style="width:56px;height:56px;border-radius:16px;background:linear-gradient(135deg,#5c6bfa,#3c40d4);display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 8px 24px rgba(92,107,250,.4);margin:0 auto 16px;">&#x21C5;</div>
      <h1 style="font-size:26px;font-weight:800;margin-bottom:6px;">Filyo</h1>
      <p style="color:rgba(255,255,255,.45);font-size:14px;">Connectez-vous pour accéder à votre espace</p>
    </div>
    <div class="card" style="padding:28px;">
      <div style="margin-bottom:16px;"><label class="label">Adresse email</label><input class="input" type="email" placeholder="vous@exemple.fr" value="alice@filyo.local"/></div>
      <div style="margin-bottom:20px;"><label class="label">Mot de passe</label><input class="input" type="password" value="password"/></div>
      <button class="btn btn-primary btn-block" onclick="doLogin()">Se connecter</button>
      <button class="btn btn-secondary btn-block" style="margin-top:10px" onclick="doLogin()">Créer un compte</button>
    </div>
    <p style="text-align:center;font-size:12px;color:rgba(255,255,255,.2);margin-top:20px;">Filyo &mdash; Hébergé localement &amp; privé</p>
  </div>
</div>
</div>

<div id="page-send" class="page active">
<div class="container">
  <h1 class="page-title">Partagez vos fichiers<br><span>simplement.</span></h1>
  <p class="page-subtitle">Déposez, configurez et partagez en quelques secondes.</p>
  <div id="s-dropzone">
    <div class="dropzone" onclick="showSend('uploading')">
      <div class="dz-icon">&#x2191;</div>
      <h3>Glissez-déposez vos fichiers ici</h3>
      <p>ou cliquez pour parcourir &middot; Tout format accepté</p>
    </div>
  </div>
  <div id="s-uploading" style="display:none">
    <div class="card">
      <div style="font-size:13px;color:rgba(255,255,255,.45);margin-bottom:12px;">3 fichiers &mdash; 84.2 Mo</div>
      <div class="file-row"><div class="file-icon">&#x1F5BC;</div><div class="file-info"><div class="file-name">photo-vacances-2025.jpg</div><div class="file-meta">4.2 Mo</div></div><div class="file-x">&#x2715;</div></div>
      <div class="file-row"><div class="file-icon">&#x1F3AC;</div><div class="file-info"><div class="file-name">presentation-Q3-final.mp4</div><div class="file-meta">78.6 Mo</div></div><div class="file-x">&#x2715;</div></div>
      <div class="file-row"><div class="file-icon">&#x1F4C4;</div><div class="file-info"><div class="file-name">rapport-annuel.pdf</div><div class="file-meta">1.4 Mo</div></div><div class="file-x">&#x2715;</div></div>
      <div class="grid2" style="margin-top:18px;">
        <div><label class="label">Mot de passe</label><input class="input" type="password" placeholder="Aucun"/></div>
        <div><label class="label">Expiration</label><select class="input"><option>1 heure</option><option selected>24 heures</option><option>7 jours</option></select></div>
        <div class="col2"><label class="label">Téléchargements max</label><input class="input" type="number" placeholder="Illimité"/></div>
      </div>
      <div class="progress"><div class="progress-fill"></div></div>
      <div style="font-size:12px;color:rgba(255,255,255,.3);text-align:right;margin-top:4px;">74%</div>
      <button class="btn btn-primary btn-block" onclick="showSend('done')">Envoyer 3 fichiers</button>
    </div>
  </div>
  <div id="s-done" style="display:none">
    <div style="text-align:center;margin-bottom:22px;">
      <div class="success-icon">&#x2713;</div>
      <h2 style="font-size:22px;font-weight:700;margin-bottom:6px;">Fichiers envoyés !</h2>
      <p style="color:rgba(255,255,255,.45);font-size:14px;">Partagez ces liens avec vos destinataires.</p>
    </div>
    <div class="share-result"><span class="file-icon">&#x1F5BC;</span><span class="share-link">http://filyo.local/s/xK9mPqR3tN2vLz</span><button class="copy-btn" onclick="copied(this)">Copier</button></div>
    <div class="share-result"><span class="file-icon">&#x1F3AC;</span><span class="share-link">http://filyo.local/s/aB7wCdEf8gHiJk</span><button class="copy-btn" onclick="copied(this)">Copier</button></div>
    <div class="share-result"><span class="file-icon">&#x1F4C4;</span><span class="share-link">http://filyo.local/s/Lm3nOp6qRs4tUv</span><button class="copy-btn" onclick="copied(this)">Copier</button></div>
    <button class="btn btn-secondary btn-block" onclick="showSend('dropzone')">+ Envoyer d'autres fichiers</button>
  </div>
</div>
</div>

<div id="page-request" class="page">
<div class="container">
  <div style="text-align:center;margin-bottom:28px;">
    <div style="width:52px;height:52px;border-radius:14px;background:rgba(92,107,250,.15);display:flex;align-items:center;justify-content:center;font-size:24px;margin:0 auto 14px;">&#x21C5;</div>
    <h1 style="font-size:28px;font-weight:800;margin-bottom:8px;">Partage inversé</h1>
    <p style="color:rgba(255,255,255,.48);font-size:15px;">Créez un lien pour recevoir des fichiers de tiers.</p>
  </div>
  <div id="rq-form"><div class="card">
    <div style="margin-bottom:14px;"><label class="label">Titre *</label><input class="input" value="Devis clients Mars 2026"/></div>
    <div style="margin-bottom:18px;"><label class="label">Message pour le déposant</label><textarea class="input" rows="3" style="resize:none">Merci d envoyer les devis signes au format PDF avant le 15 mars.</textarea></div>
    <div class="grid2">
      <div><label class="label">Expiration</label><select class="input"><option>7 jours</option><option>30 jours</option></select></div>
      <div><label class="label">Max fichiers</label><input class="input" type="number" value="5"/></div>
      <div><label class="label">Taille max / fichier (Mo)</label><input class="input" placeholder="Illimitée"/></div>
      <div><label class="label">Mot de passe</label><input class="input" type="password" placeholder="Aucun"/></div>
    </div>
    <button class="btn btn-primary btn-block" onclick="showReq('done')">Créer le lien de dépôt</button>
  </div></div>
  <div id="rq-done" style="display:none"><div class="card" style="text-align:center;padding:32px;">
    <div class="success-icon">&#x2713;</div>
    <h2 style="font-size:20px;font-weight:700;margin-bottom:6px;">Lien créé !</h2>
    <p style="color:rgba(255,255,255,.45);font-size:13px;margin-bottom:20px;">Partagez ce lien pour recevoir des fichiers.</p>
    <div style="background:rgba(255,255,255,.05);border-radius:12px;padding:11px 16px;display:flex;align-items:center;gap:12px;">
      <span style="flex:1;font-size:13px;color:var(--brand-light);font-family:monospace;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">http://filyo.local/r/Yz8kWvBn2Qx5Rp</span>
      <button class="copy-btn" onclick="copied(this)">Copier</button>
    </div>
  </div>
  <button class="btn btn-secondary btn-block" onclick="showReq('form')">+ Créer un autre lien</button></div>
</div>
</div>

<div id="page-dashboard" class="page">
<div class="container-wide">
  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;">
    <h1 style="font-size:24px;font-weight:800;">Tableau de bord</h1>
    <div style="display:flex;gap:8px;">
      <button class="btn btn-secondary btn-sm">Nettoyer expires</button>
      <button class="btn btn-secondary btn-sm">Actualiser</button>
    </div>
  </div>
  <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:14px;">
    <div class="stat-card"><div class="stat-val">12</div><div class="stat-lbl">Fichiers envoyés</div></div>
    <div class="stat-card"><div class="stat-val">8</div><div class="stat-lbl">Partages actifs</div></div>
    <div class="stat-card"><div class="stat-val">3</div><div class="stat-lbl">Demandes de dépôt</div></div>
    <div class="stat-card"><div class="stat-val">27</div><div class="stat-lbl">Fichiers reçus</div></div>
    <div class="stat-card"><div class="stat-val">1.4 Go</div><div class="stat-lbl">Volume envoyé</div></div>
    <div class="stat-card"><div class="stat-val">340 Mo</div><div class="stat-lbl">Volume reçu</div></div>
  </div>
  <div class="disk-widget">
    <div class="disk-icon">&#x1F4BE;</div>
    <div class="disk-body">
      <div class="disk-label">
        <strong style="font-size:13px;">Espace disque</strong>
        <span>28.4 Go / 120 Go utilisés &middot; <span style="color:#7a8dff">91.6 Go libres</span></span>
      </div>
      <div class="disk-bar"><div class="disk-fill" style="width:24%;background:#5c6bfa"></div></div>
    </div>
    <div class="disk-pct" style="color:#7a8dff">24%</div>
  </div>
  <div class="tabs" id="dash-tabs">
    <div class="tab active" onclick="dashTab('sent',this)">Fichiers envoyés (12)</div>
    <div class="tab" onclick="dashTab('reqs',this)">Partages inversés (3)</div>
  </div>
  <div id="dt-sent">
    <div class="dash-row"><div class="dash-icon">&#x1F5BC;</div><div class="dash-info"><div class="dash-name">photo-vacances-2025.jpg</div><div class="dash-meta">4.2 Mo &middot; 27 fév. 2026 &middot; 3 téléchargements &middot; Expire 28 fév.</div></div><div class="dash-actions"><button class="act act-share">Partager</button><button class="act act-del">&#x1F5D1;</button></div></div>
    <div class="dash-row"><div class="dash-icon">&#x1F3AC;</div><div class="dash-info"><div class="dash-name">presentation-Q3-final.mp4</div><div class="dash-meta">78.6 Mo &middot; 26 fév. 2026 &middot; 1 téléchargement &middot; Protégé</div></div><div class="dash-actions"><button class="act act-share">Partager</button><button class="act act-del">&#x1F5D1;</button></div></div>
    <div class="dash-row"><div class="dash-icon">&#x1F4C4;</div><div class="dash-info"><div class="dash-name">rapport-annuel.pdf</div><div class="dash-meta">1.4 Mo &middot; 25 fév. 2026 &middot; 0 téléchargement</div></div><div class="dash-actions"><button class="act act-share">Partager</button><button class="act act-del">&#x1F5D1;</button></div></div>
    <div class="dash-row"><div class="dash-icon">&#x1F4CA;</div><div class="dash-info"><div class="dash-name">budget-2026.xlsx</div><div class="dash-meta">854 Ko &middot; 24 fév. 2026 &middot; 5 téléchargements</div></div><div class="dash-actions"><button class="act act-share">Partager</button><button class="act act-del">&#x1F5D1;</button></div></div>
  </div>
  <div id="dt-reqs" style="display:none">
    <div class="dash-row"><div class="dash-icon">&#x21C5;</div><div class="dash-info"><div class="dash-name">Devis clients Mars 2026</div><div class="dash-meta">Créé 27 fév. 2026 &middot; Expire 6 mars &middot; 2 fichiers reçus <span class="badge badge-green" style="margin-left:4px">Actif</span></div></div><div class="dash-actions"><button class="act act-share">Lien</button><button class="act act-del">&#x1F5D1;</button></div></div>
    <div class="dash-row"><div class="dash-icon">&#x21C5;</div><div class="dash-info"><div class="dash-name">Photos evenement corporate</div><div class="dash-meta">Créé 20 fév. 2026 &middot; 8 fichiers reçus <span class="badge badge-orange" style="margin-left:4px">Désactivé</span></div></div><div class="dash-actions"><button class="act act-share">Lien</button><button class="act act-del">&#x1F5D1;</button></div></div>
  </div>
</div>
</div>

<div id="page-users" class="page">
<div class="container-wide" style="max-width:800px">
  <div style="display:flex;align-items:center;gap:12px;margin-bottom:24px;">
    <div style="width:40px;height:40px;background:rgba(92,107,250,.2);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;">&#x1F6E1;</div>
    <div><h1 style="font-size:22px;font-weight:800">Administration</h1><p style="font-size:13px;color:rgba(255,255,255,.38)">Gestion des utilisateurs et des fichiers</p></div>
  </div>

  <!-- Select mobile (simulé) -->
  <div style="margin-bottom:16px;">
    <div style="position:relative;">
      <select id="admin-tab-select" class="input" style="padding-right:40px;font-weight:600;appearance:none" onchange="adminTabSelect(this.value)">
        <option value="users">Utilisateurs (4)</option>
        <option value="files">Fichiers partagés (12)</option>
        <option value="deposits">Demandes de dépôt (3)</option>
      </select>
      <span style="position:absolute;right:12px;top:50%;transform:translateY(-50%);pointer-events:none;color:rgba(255,255,255,.4);font-size:13px;">&#x25BE;</span>
    </div>
  </div>
  <!-- Panneau Utilisateurs -->
  <div id="ut-users">
  <div style="display:flex;justify-content:flex-end;margin-bottom:12px;"><button class="btn btn-primary btn-sm" onclick="toggleCreateUser()">+ Nouvel utilisateur</button></div>
  <div id="create-user-panel" style="display:none">
      <div style="font-size:13px;font-weight:600;color:rgba(255,255,255,.7);margin-bottom:14px">Créer un utilisateur</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
        <div><label class="label">Nom</label><input class="input" value="Thomas Martin"/></div>
        <div><label class="label">Email</label><input class="input" type="email" value="thomas@filyo.local"/></div>
        <div><label class="label">Mot de passe</label><input class="input" type="password" placeholder="Min. 8 caractères"/></div>
        <div><label class="label">Confirmer le mot de passe</label><input class="input" type="password" placeholder="Répétez le mot de passe"/></div>
        <div style="grid-column:1/-1"><label class="label">Rôle</label><select class="input" style="background:#1c1f3a"><option>Utilisateur standard</option><option>Administrateur</option></select></div>
      </div>
      <div style="display:flex;gap:10px;margin-top:14px">
        <button class="btn btn-primary btn-sm" onclick="toggleCreateUser()">Créer</button>
        <button class="btn btn-secondary btn-sm" onclick="toggleCreateUser()">Annuler</button>
      </div>
    </div>
  </div>
  <div class="user-row">
    <div class="user-avatar-sm">AS</div>
    <div class="user-details"><div class="user-fullname">Alice Schneider <span class="badge badge-blue" style="margin-left:6px">Admin</span> <span class="badge badge-orange" style="margin-left:2px">Vous</span></div><div class="user-mail">alice@filyo.local<br><span style="font-size:11px;color:rgba(255,255,255,.3)">Connectée 27 fév. 2026</span></div></div>
    <div><button class="btn btn-secondary btn-sm">Modifier</button></div>
  </div>
  <div id="edit-bob" style="display:none" class="edit-row">
    <div class="grid2" style="margin-bottom:12px">
      <div><label class="label">Nom</label><input class="input" value="Bob Leclerc"/></div>
      <div><label class="label">Role</label><select class="input" style="background:#1c1f3a"><option selected>Utilisateur</option><option>Administrateur</option></select></div>
    </div>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
      <div class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"><div class="toggle-thumb"></div></div>
      <span style="font-size:13px;color:rgba(255,255,255,.6)">Compte actif</span>
    </div>
    <div style="display:flex;gap:8px">
      <button class="btn btn-primary btn-sm" onclick="document.getElementById('edit-bob').style.display='none';document.getElementById('row-bob').style.display='flex'">Enregistrer</button>
      <button class="btn btn-secondary btn-sm" onclick="document.getElementById('edit-bob').style.display='none';document.getElementById('row-bob').style.display='flex'">Annuler</button>
    </div>
  </div>
  <div class="user-row" id="row-bob">
    <div class="user-avatar-sm">BL</div>
    <div class="user-details"><div class="user-fullname">Bob Leclerc <span class="badge badge-green" style="margin-left:6px">Utilisateur</span></div><div class="user-mail">bob@filyo.local<br><span style="font-size:11px;color:rgba(255,255,255,.3)">Connecté 25 fév. 2026</span></div></div>
    <div style="display:flex;gap:8px"><button class="btn btn-secondary btn-sm" onclick="document.getElementById('edit-bob').style.display='block';document.getElementById('row-bob').style.display='none'">Modifier</button><button class="btn btn-danger btn-sm">Suppr.</button></div>
  </div>
  <div class="user-row" style="opacity:.7">
    <div class="user-avatar-sm" style="opacity:.5">CC</div>
    <div class="user-details"><div class="user-fullname">Clara Coudert <span class="badge badge-green" style="margin-left:6px">Utilisateur</span> <span class="badge badge-red" style="margin-left:2px">Désactivé</span></div><div class="user-mail">clara@filyo.local<br><span style="font-size:11px;color:rgba(255,255,255,.3)">Jamais connectée</span></div></div>
    <div style="display:flex;gap:8px"><button class="btn btn-secondary btn-sm">Modifier</button><button class="btn btn-danger btn-sm">Suppr.</button></div>
  </div>
  <div class="user-row">
    <div class="user-avatar-sm">DP</div>
    <div class="user-details"><div class="user-fullname">David Petit <span class="badge badge-blue" style="margin-left:6px">Admin</span></div><div class="user-mail">david@filyo.local<br><span style="font-size:11px;color:rgba(255,255,255,.3)">Connecté 26 fév. 2026</span></div></div>
    <div style="display:flex;gap:8px"><button class="btn btn-secondary btn-sm">Modifier</button><button class="btn btn-danger btn-sm">Suppr.</button></div>
  </div>
  </div><!-- /ut-users -->

  <!-- Panneau Fichiers partagés -->
  <div id="ut-files" style="display:none">
    <div style="overflow-x:auto;border-radius:14px;border:1px solid rgba(255,255,255,.07)">
      <table style="width:100%;border-collapse:collapse;font-size:13px;min-width:560px">
        <thead><tr style="border-bottom:1px solid rgba(255,255,255,.07);color:rgba(255,255,255,.4);font-size:11px;text-transform:uppercase;letter-spacing:.05em">
          <th style="text-align:left;padding:10px 14px">Propriétaire</th>
          <th style="text-align:left;padding:10px 14px">Fichier</th>
          <th style="text-align:left;padding:10px 14px">Taille</th>
          <th style="text-align:left;padding:10px 14px">Téléchargements</th>
          <th style="padding:10px 14px"></th>
        </tr></thead>
        <tbody>
          <tr style="border-bottom:1px solid rgba(255,255,255,.05)">
            <td style="padding:10px 14px"><div style="display:flex;align-items:center;gap:8px"><div style="width:26px;height:26px;border-radius:7px;background:rgba(92,107,250,.15);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:#7a8dff">AS</div><div><div style="font-size:12px;font-weight:600">Alice Schneider</div><div style="font-size:11px;color:rgba(255,255,255,.3)">alice@filyo.local</div></div></div></td>
            <td style="padding:10px 14px"><span style="font-size:18px;margin-right:6px">&#x1F5BC;</span><span style="font-size:12px">photo-vacances.jpg</span></td>
            <td style="padding:10px 14px;color:rgba(255,255,255,.45);font-size:12px">4.2 Mo</td>
            <td style="padding:10px 14px;color:rgba(255,255,255,.45);font-size:12px">3</td>
            <td style="padding:10px 14px"><button class="btn btn-danger btn-sm">&#x1F5D1;</button></td>
          </tr>
          <tr style="border-bottom:1px solid rgba(255,255,255,.05);background:rgba(255,255,255,.01)">
            <td style="padding:10px 14px"><div style="display:flex;align-items:center;gap:8px"><div style="width:26px;height:26px;border-radius:7px;background:rgba(92,107,250,.15);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:#7a8dff">BL</div><div><div style="font-size:12px;font-weight:600">Bob Leclerc</div><div style="font-size:11px;color:rgba(255,255,255,.3)">bob@filyo.local</div></div></div></td>
            <td style="padding:10px 14px"><span style="font-size:18px;margin-right:6px">&#x1F4C4;</span><span style="font-size:12px">rapport-annuel.pdf</span></td>
            <td style="padding:10px 14px;color:rgba(255,255,255,.45);font-size:12px">1.4 Mo</td>
            <td style="padding:10px 14px;color:rgba(255,255,255,.45);font-size:12px">0</td>
            <td style="padding:10px 14px"><button class="btn btn-danger btn-sm">&#x1F5D1;</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div><!-- /ut-files -->

  <!-- Panneau Demandes de dépôt -->
  <div id="ut-deps" style="display:none">
    <div style="overflow-x:auto;border-radius:14px;border:1px solid rgba(255,255,255,.07)">
      <table style="width:100%;border-collapse:collapse;font-size:13px;min-width:520px">
        <thead><tr style="border-bottom:1px solid rgba(255,255,255,.07);color:rgba(255,255,255,.4);font-size:11px;text-transform:uppercase;letter-spacing:.05em">
          <th style="text-align:left;padding:10px 14px">Propriétaire</th>
          <th style="text-align:left;padding:10px 14px">Titre</th>
          <th style="text-align:left;padding:10px 14px">Statut</th>
          <th style="text-align:left;padding:10px 14px">Fichiers reçus</th>
          <th style="text-align:left;padding:10px 14px">Créé le</th>
          <th style="padding:10px 14px"></th>
        </tr></thead>
        <tbody>
          <tr style="border-bottom:1px solid rgba(255,255,255,.05)">
            <td style="padding:10px 14px"><div style="display:flex;align-items:center;gap:8px"><div style="width:26px;height:26px;border-radius:7px;background:rgba(92,107,250,.15);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:#7a8dff">AS</div><span style="font-size:12px">Alice Schneider</span></div></td>
            <td style="padding:10px 14px;font-size:12px;font-weight:500">Devis clients Mars 2026</td>
            <td style="padding:10px 14px"><span class="badge badge-green">Actif</span></td>
            <td style="padding:10px 14px;color:rgba(255,255,255,.45);font-size:12px">2</td>
            <td style="padding:10px 14px;color:rgba(255,255,255,.45);font-size:12px">27 fév.</td>
            <td style="padding:10px 14px"><button class="btn btn-danger btn-sm">&#x1F5D1;</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div><!-- /ut-deps -->
</div>
</div>

<div id="page-settings" class="page">
<div class="container" style="max-width:600px">
  <div style="display:flex;align-items:center;gap:12px;margin-bottom:28px;">
    <div style="width:40px;height:40px;background:rgba(92,107,250,.2);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;">&#x2699;</div>
    <div><h1 style="font-size:22px;font-weight:800">Réglages</h1><p style="font-size:13px;color:var(--text4)">Personnalisation de l’application</p></div>
  </div>
  <div class="card" style="margin-bottom:14px">
    <div class="section-title"><div class="section-icon">&#x1F524;</div> Nom de l’application</div>
    <div style="display:flex;gap:12px">
      <input class="input" style="flex:1" value="Filyo" id="app-name-input"/>
      <button class="btn btn-primary btn-sm" onclick="updateAppName()">Enregistrer</button>
    </div>
    <p style="font-size:12px;color:var(--text4);margin-top:10px">Affiché dans la barre de navigation et sur la page de connexion.</p>
  </div>

  <div class="card" style="margin-bottom:14px">
    <div class="section-title"><div class="section-icon">&#x1F310;</div> Adresse du site</div>
    <p style="font-size:12px;color:var(--text4);margin-bottom:12px">Utilisé pour générer les liens de partage envoyés par email ou affichés aux utilisateurs.</p>
    <div style="display:flex;gap:12px;margin-bottom:12px">
      <input class="input" style="flex:1" id="base-url-input" value="https://filyo.mondomaine.fr" placeholder="https://filyo.mondomaine.fr"/>
      <button class="btn btn-primary btn-sm" onclick="saveBaseUrl()">Enregistrer</button>
    </div>
    <div style="background:var(--glass);border:1px solid var(--glass-b);border-radius:10px;padding:10px 14px;font-size:12px;color:var(--text4)">
      Exemple de lien généré&nbsp;: <span id="url-preview" style="color:var(--brand-light);font-family:monospace">https://filyo.mondomaine.fr/s/xK9mPqR3</span>
    </div>
    <p style="font-size:11px;color:var(--text4);margin-top:8px">&#x26A0;&#xFE0F; Sans nom de domaine, les liens utiliseront l’adresse IP locale du serveur.</p>
  </div>
  <div class="card">
    <div class="section-title"><div class="section-icon">&#x1F5BC;</div> Logo</div>
    <div style="display:flex;align-items:center;gap:20px;margin-bottom:16px">
      <div id="logo-box" style="width:96px;height:96px;border-radius:16px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:center;font-size:38px">&#x21C5;</div>
      <div>
        <p style="font-size:13px;color:var(--text5);margin-bottom:10px">Logo actuel (icône par défaut)</p>
        <div style="display:flex;flex-direction:column;gap:8px">
          <button class="btn btn-secondary btn-sm" onclick="uploadLogoDemo()">Téléverser un logo</button>
          <button class="btn btn-danger btn-sm" onclick="deleteLogoDemo()">Supprimer le logo</button>
        </div>
      </div>
    </div>
    <div onclick="uploadLogoDemo()" style="border:2px dashed var(--glass-b);border-radius:14px;padding:28px;text-align:center;cursor:pointer;transition:all .3s" onmouseover="this.style.borderColor=getComputedStyle(document.documentElement).getPropertyValue('--brand-hex').trim()" onmouseout="this.style.borderColor=''">
      <div style="font-size:26px;margin-bottom:8px">&#x2191;</div>
      <p style="font-size:13px;color:var(--text5)">PNG, JPG ou SVG &middot; max 2 Mo</p>
    </div>
    <p style="font-size:12px;color:var(--text4);margin-top:10px">Format recommandé : carré, fond transparent. Taille max : 2 Mo.</p>
  </div>

  <div class="card" style="margin-bottom:14px">
    <div class="section-title"><div class="section-icon">&#x1F510;</div> Authentification</div>
    <div style="display:flex;align-items:center;justify-content:space-between;padding:4px 0">
      <div>
        <div style="font-size:13px;font-weight:500">Inscription libre</div>
        <div style="font-size:12px;color:var(--text4);margin-top:2px">Affiche un bouton &laquo;&nbsp;Créer un compte&nbsp;&raquo; sur la page de connexion</div>
      </div>
      <div class="toggle off" onclick="this.classList.toggle('on');this.classList.toggle('off')"><div class="toggle-thumb"></div></div>
    </div>
  </div>

  <!-- SMTP -->
  <div class="card" style="margin-top:14px">
    <div class="section-title"><div class="section-icon">&#x2709;</div> Serveur SMTP</div>
    <p style="font-size:12px;color:var(--text4);margin-bottom:16px">Utilisé pour l’envoi des liens de partage par email</p>
    <div class="grid2" style="margin-bottom:14px">
      <div><label class="label">Hôte SMTP</label><input class="input" value="smtp.mondomaine.fr"/></div>
      <div><label class="label">Port</label><input class="input" value="587"/></div>
      <div class="col2"><label class="label">Adresse expéditeur</label><input class="input" type="email" value="noreply@mondomaine.fr"/></div>
      <div><label class="label">Identifiant</label><input class="input" value="smtp_user"/></div>
      <div><label class="label">Mot de passe</label><input class="input" type="password" value="secretpass"/></div>
    </div>
    <div style="display:flex;align-items:center;justify-content:space-between;background:var(--glass);border:1px solid var(--glass-b);border-radius:12px;padding:12px 16px;margin-bottom:14px">
      <div>
        <div style="font-size:13px;font-weight:500">Connexion sécurisée (TLS)</div>
        <div style="font-size:12px;color:var(--text4);margin-top:2px">Recommandé pour port 465 ou STARTTLS sur 587</div>
      </div>
      <div class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"><div class="toggle-thumb"></div></div>
    </div>
    <div style="display:flex;gap:10px">
      <button class="btn btn-primary btn-sm" onclick="showToast('Configuration SMTP enregistree !')">Enregistrer</button>
      <button class="btn btn-secondary btn-sm" onclick="testSmtpDemo()">&#x25BA; Tester la connexion</button>
    </div>
    <p style="font-size:11px;color:var(--text4);margin-top:10px">Le test vérifie uniquement l’accessibilité réseau du serveur SMTP.</p>
  </div>
</div>
</div><div id="page-profile" class="page">
<div class="container" style="max-width:560px">
  <div style="display:flex;align-items:center;gap:12px;margin-bottom:28px">
    <div style="width:40px;height:40px;background:rgb(var(--brand) / .2);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px">&#x1F464;</div>
    <div><h1 style="font-size:22px;font-weight:800">Mon profil</h1><p style="font-size:13px;color:var(--text4)">alice@filyo.local</p></div>
  </div>

  <!-- Avatar -->
  <div class="card" style="margin-bottom:14px">
    <div class="section-title"><div class="section-icon">&#x1F4F7;</div> Photo de profil</div>
    <div style="display:flex;align-items:center;gap:20px">
      <div id="profile-avatar-box" style="width:80px;height:80px;border-radius:16px;background:rgb(var(--brand) / .18);display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:800;color:var(--brand-hex);flex-shrink:0;overflow:hidden;position:relative">A</div>
      <div style="flex:1">
        <input type="file" id="avatar-file-input" accept="image/*" style="display:none" onchange="handleAvatarFile(this)"/>
        <div style="display:flex;gap:8px;flex-direction:column">
          <button class="btn btn-secondary btn-sm" onclick="document.getElementById('avatar-file-input').click()">&#x1F4C2; Choisir une photo</button>
          <button class="btn btn-danger btn-sm" id="del-avatar-btn" style="display:none" onclick="deleteAvatarDemo()">Supprimer la photo</button>
        </div>
        <p style="font-size:11px;color:var(--text4);margin-top:8px">PNG, JPG ou WebP &middot; max 3 Mo</p>
      </div>
    </div>
  </div>

  <!-- Informations -->
  <div class="card" style="margin-bottom:14px">
    <div class="section-title"><div class="section-icon">&#x270F;</div> Informations</div>
    <div style="margin-bottom:14px">
      <label class="label">Nom affiché</label>
      <div style="display:flex;align-items:center;gap:10px">
        <input class="input" id="profile-name" value="Alice Schneider" style="flex:1"/>
        <button class="btn btn-primary btn-sm" onclick="saveName()">OK</button>
      </div>
    </div>
    <div style="margin-bottom:14px">
      <label class="label">Adresse email</label>
      <div style="font-size:14px;color:var(--text5);padding:6px 0">alice@filyo.local</div>
      <div style="font-size:11px;color:var(--text3)">L&rsquo;adresse email ne peut être modifiée que par un administrateur.</div>
    </div>
    <div>
      <label class="label">Role</label>
      <span class="badge badge-blue">Administrateur</span>
    </div>
  </div>

  <!-- Mot de passe -->
  <div class="card" style="margin-bottom:14px">
    <div class="section-title"><div class="section-icon">&#x1F512;</div> Changer le mot de passe</div>
    <div style="margin-bottom:12px"><label class="label">Mot de passe actuel</label><input class="input" type="password" placeholder="Votre mot de passe actuel" value="password"/></div>
    <div style="margin-bottom:12px"><label class="label">Nouveau mot de passe</label><input class="input" type="password" placeholder="Min. 8 caractères"/></div>
    <div style="margin-bottom:16px"><label class="label">Confirmer le nouveau mot de passe</label><input class="input" type="password" placeholder="Répétez le nouveau mot de passe"/></div>
    <button class="btn btn-primary btn-sm" onclick="showToast('Mot de passe mis à jour !')">Mettre à jour le mot de passe</button>
  </div>

  <!-- Apparence -->
  <div class="card">
    <div class="section-title"><div class="section-icon">&#x1F3A8;</div> Apparence</div>

    <label class="label" style="margin-bottom:10px">Thème</label>
    <div class="theme-grid" style="margin-bottom:20px">
      <button class="theme-btn" id="tbtn-dark" onclick="setTheme('dark')">
        <div class="theme-icon">&#x1F319;</div>
        <span>Sombre</span>
      </button>
      <button class="theme-btn active" id="tbtn-light" onclick="setTheme('light')">
        <div class="theme-icon">&#x2600;&#xFE0F;</div>
        <span>Clair</span>
      </button>
      <button class="theme-btn" id="tbtn-auto" onclick="setTheme('auto')">
        <div class="theme-icon">&#x1F4BB;</div>
        <span>Automatique</span>
      </button>
    </div>

    <label class="label" style="margin-bottom:10px">Couleur principale</label>
    <div class="accent-grid" style="margin-bottom:8px">
      <div class="accent-swatch active" style="background:#5c6bfa" title="Indigo" onclick="setAccent('#5c6bfa','92 107 250','#7a8dff','#3c40d4',this)"></div>
      <div class="accent-swatch" style="background:#3b82f6" title="Bleu" onclick="setAccent('#3b82f6','59 130 246','#60a5fa','#1d4ed8',this)"></div>
      <div class="accent-swatch" style="background:#8b5cf6" title="Violet" onclick="setAccent('#8b5cf6','139 92 246','#a78bfa','#6d28d9',this)"></div>
      <div class="accent-swatch" style="background:#10b981" title="Vert" onclick="setAccent('#10b981','16 185 129','#34d399','#047857',this)"></div>
      <div class="accent-swatch" style="background:#f97316" title="Orange" onclick="setAccent('#f97316','249 115 22','#fb923c','#c2410c',this)"></div>
      <div class="accent-swatch" style="background:#f43f5e" title="Rose" onclick="setAccent('#f43f5e','244 63 94','#fb7185','#be123c',this)"></div>
      <div class="accent-swatch" style="background:#06b6d4" title="Cyan" onclick="setAccent('#06b6d4','6 182 212','#22d3ee','#0e7490',this)"></div>
      <div class="accent-swatch" style="background:#f59e0b" title="Ambre" onclick="setAccent('#f59e0b','245 158 11','#fbbf24','#b45309',this)"></div>
    </div>
    <p style="font-size:12px;color:var(--text4);margin-bottom:20px">Couleur des boutons, liens et elements actifs.</p>

    <label class="label" style="margin-bottom:10px">Couleur d’arrière-plan</label>

    <!-- Swatches SOMBRE -->
    <div id="bg-dark-swatches" class="accent-grid" style="margin-bottom:8px">
      <div class="bg-swatch active" style="background:#0d0e1a" title="Nuit (defaut)" onclick="setBgColor('#0d0e1a','#13152a','#1c1f3a',this)"></div>
      <div class="bg-swatch" style="background:#0f172a" title="Ardoise" onclick="setBgColor('#0f172a','#1e293b','#273548',this)"></div>
      <div class="bg-swatch" style="background:#0c1a12" title="Foret" onclick="setBgColor('#0c1a12','#122010','#1a2e1d',this)"></div>
      <div class="bg-swatch" style="background:#1a0c1a" title="Prune" onclick="setBgColor('#1a0c1a','#26112e','#311840',this)"></div>
      <div class="bg-swatch" style="background:#1a0f0a" title="Acajou" onclick="setBgColor('#1a0f0a','#2a1608','#3a1e0a',this)"></div>
      <div class="bg-swatch" style="background:#111827" title="Carbone" onclick="setBgColor('#111827','#1f2937','#2d3748',this)"></div>
    </div>

    <!-- Swatches CLAIR -->
    <div id="bg-light-swatches" class="accent-grid" style="margin-bottom:8px;display:none">
      <div class="bg-swatch active" style="background:#eef0f8;box-shadow:inset 0 0 0 1px rgba(12,14,42,.12)" title="Brume (defaut clair)" onclick="setBgColor('#eef0f8','#ffffff','#e4e8f4',this)"></div>
      <div class="bg-swatch" style="background:#f1f5f9;box-shadow:inset 0 0 0 1px rgba(12,14,42,.12)" title="Gris perle" onclick="setBgColor('#f1f5f9','#ffffff','#e2e8f0',this)"></div>
      <div class="bg-swatch" style="background:#f0fdf4;box-shadow:inset 0 0 0 1px rgba(12,14,42,.10)" title="Menthe" onclick="setBgColor('#f0fdf4','#ffffff','#dcfce7',this)"></div>
      <div class="bg-swatch" style="background:#faf5ff;box-shadow:inset 0 0 0 1px rgba(12,14,42,.10)" title="Lavande" onclick="setBgColor('#faf5ff','#ffffff','#f3e8ff',this)"></div>
      <div class="bg-swatch" style="background:#fff7ed;box-shadow:inset 0 0 0 1px rgba(12,14,42,.10)" title="Peche" onclick="setBgColor('#fff7ed','#ffffff','#ffedd5',this)"></div>
      <div class="bg-swatch" style="background:#fefce8;box-shadow:inset 0 0 0 1px rgba(12,14,42,.10)" title="Sable" onclick="setBgColor('#fefce8','#ffffff','#fef9c3',this)"></div>
    </div>

    <p style="font-size:12px;color:var(--text4)">Teinte de fond de l’interface.</p>
  </div>
</div>
</div>

<div id="page-download" class="page">
<div class="dl-wrap">
  <div class="dl-header">
    <div style="width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#5c6bfa,#3c40d4);display:flex;align-items:center;justify-content:center;font-size:13px">&#x21C5;</div>
    <span style="font-weight:700;font-size:17px">Fil<span style="color:#7a8dff">yo</span></span>
  </div>
  <div class="card">
    <div style="display:flex;align-items:center;gap:14px;margin-bottom:20px">
      <div style="width:56px;height:56px;background:rgba(92,107,250,.14);border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:26px;flex-shrink:0">&#x1F3AC;</div>
      <div><div style="font-size:18px;font-weight:700">presentation-Q3-final.mp4</div><div style="font-size:13px;color:rgba(255,255,255,.45);margin-top:3px">78.6 Mo</div></div>
    </div>
    <div class="meta-grid">
      <div class="meta-item"><div class="meta-lbl">Expire le</div><div class="meta-val">28 fev. 2026, 14:00</div></div>
      <div class="meta-item"><div class="meta-lbl">Téléchargements</div><div class="meta-val">1 / 5</div></div>
    </div>
    <div style="background:rgba(251,146,60,.08);border:1px solid rgba(251,146,60,.2);border-radius:12px;padding:11px 14px;display:flex;align-items:center;gap:8px;margin-bottom:18px">
      <span>&#x1F512;</span><span style="font-size:13px;color:#fb923c">Ce fichier est protege par mot de passe</span>
    </div>
    <div style="margin-bottom:18px"><label class="label">Mot de passe</label><input class="input" type="password" placeholder="Entrez le mot de passe"/></div>
    <button class="btn btn-primary btn-block">Télécharger</button>
  </div>
  <p style="text-align:center;font-size:12px;color:var(--text4);margin-top:18px">Partage via Filyo &mdash; Heberge localement &amp; prive</p>
</div>
</div>

<div id="page-deposit" class="page">
<div class="container">
  <div class="dl-header">
    <div style="width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#5c6bfa,#3c40d4);display:flex;align-items:center;justify-content:center;font-size:13px">&#x21C5;</div>
    <span style="font-weight:700;font-size:17px">Fil<span style="color:#7a8dff">yo</span></span>
  </div>
  <div class="card" style="margin-bottom:14px">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
      <div style="width:40px;height:40px;background:rgba(92,107,250,.14);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px">&#x2B06;</div>
      <div><div style="font-weight:700;font-size:16px">Devis clients Mars 2026</div><div style="font-size:12px;color:rgba(255,255,255,.35)">Demande de dépôt de fichiers</div></div>
    </div>
    <div style="background:rgba(255,255,255,.04);border-radius:10px;padding:11px 14px;font-size:13px;color:rgba(255,255,255,.65);margin-bottom:12px">Merci d envoyer les devis signes au format PDF avant le 15 mars.</div>
    <div style="display:flex;gap:8px"><span class="badge badge-orange">Expire 6 mars 2026</span><span class="badge badge-blue">Max 5 fichiers</span></div>
  </div>
  <div class="card" style="margin-bottom:14px">
    <div style="font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:rgba(255,255,255,.38);margin-bottom:12px">Vos informations (optionnel)</div>
    <div class="grid2">
      <div><label class="label">Nom</label><input class="input" value="Marie Dubois"/></div>
      <div><label class="label">Email</label><input class="input" type="email" value="marie@exemple.fr"/></div>
      <div class="col2"><label class="label">Message</label><textarea class="input" rows="2" style="resize:none">Voici les trois devis demandes.</textarea></div>
    </div>
  </div>
  <div class="dropzone" style="padding:36px;margin-bottom:14px">
    <div class="dz-icon">&#x2B06;</div>
    <h3>Déposez vos fichiers ici</h3>
    <p>PDF, ZIP &mdash; max 5 fichiers</p>
  </div>
  <div class="card" style="margin-bottom:14px">
    <div class="file-row"><div class="file-icon">&#x1F4C4;</div><div class="file-info"><div class="file-name">devis-Acme-Corp.pdf</div><div class="file-meta">345 Ko</div></div><div class="file-x">&#x2715;</div></div>
    <div class="file-row"><div class="file-icon">&#x1F4C4;</div><div class="file-info"><div class="file-name">devis-TechStart.pdf</div><div class="file-meta">289 Ko</div></div><div class="file-x">&#x2715;</div></div>
  </div>
  <button class="btn btn-primary btn-block">Déposer 2 fichiers</button>
  <p style="text-align:center;font-size:12px;color:rgba(255,255,255,.2);margin-top:18px">Partage via Filyo &mdash; Heberge localement &amp; prive</p>
</div>
</div>

</div>

<div class="demo-nav">
  <span>Pages :</span>
  <button class="demo-btn" onclick="showPage('login')">Connexion</button>
  <button class="demo-btn active" onclick="showPage('send')">Envoi</button>
  <button class="demo-btn" onclick="showPage('request')">Creer lien</button>
  <button class="demo-btn" onclick="showPage('dashboard')">Dashboard</button>
  <button class="demo-btn" onclick="showPage('users')">Utilisateurs</button>
  <button class="demo-btn" onclick="showPage('settings')">Reglages</button>
  <button class="demo-btn" onclick="showPage('profile')">Mon profil</button>
  <button class="demo-btn" onclick="showPage('download')">Telechargement</button>
  <button class="demo-btn" onclick="showPage('deposit')">Depot</button>
</div>

<footer>
  <span>Filyo &mdash; Hébergé localement &amp; privé &middot; Aperçu de l&rsquo;interface</span>
  <a href="https://github.com/Mouette03/Filyo" target="_blank" rel="noopener noreferrer" style="position:absolute;right:24px;display:flex;align-items:center;gap:6px;color:var(--text4);text-decoration:none;font-size:12px;transition:color .2s" onmouseover="this.style.color='rgba(255,255,255,.7)'" onmouseout="this.style.color=''">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.154-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0 1 12 6.836a9.59 9.59 0 0 1 2.504.337c1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.202 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.741 0 .267.18.578.688.48C19.138 20.163 22 16.418 22 12c0-5.523-4.477-10-10-10z"/></svg>
    GitHub
  </a>
</footer>

<script>
  const ALL_PAGES = ['login','send','request','dashboard','users','settings','profile','download','deposit'];
  const NAV_PAGES = ['send','request','dashboard'];

  function showPage(name) {
    ALL_PAGES.forEach(p => {
      const el = document.getElementById('page-' + p);
      if (el) el.classList.toggle('active', p === name);
    });
    document.querySelectorAll('#main-nav .nav-link').forEach((el, i) => {
      el.classList.toggle('active', NAV_PAGES[i] === name);
    });
    document.querySelectorAll('.demo-btn').forEach(btn => {
      const map = {
        'Connexion':'login','Envoi':'send','Creer lien':'request',
        'Dashboard':'dashboard','Utilisateurs':'users','Reglages':'settings',
        'Mon profil':'profile','Telechargement':'download','Depot':'deposit'
      };
      btn.classList.toggle('active', map[btn.textContent.trim()] === name);
    });
    const isPublic = ['login','download','deposit'].includes(name);
    document.getElementById('navbar').style.display = isPublic ? 'none' : 'flex';
    if (name === 'profile') { syncThemeBtns(); syncBgSwatches(); }
    window.scrollTo(0, 0);
  }

  function showSend(state) {
    ['dropzone','uploading','done'].forEach(s =>
      document.getElementById('s-' + s).style.display = s === state ? 'block' : 'none');
  }

  function showReq(state) {
    document.getElementById('rq-form').style.display = state === 'form' ? 'block' : 'none';
    document.getElementById('rq-done').style.display = state === 'done' ? 'block' : 'none';
  }

  function dashTab(tab, el) {
    document.querySelectorAll('#dash-tabs .tab').forEach(t => t.classList.remove('active'));
    el.classList.add('active');
    document.getElementById('dt-sent').style.display = tab === 'sent' ? 'block' : 'none';
    document.getElementById('dt-reqs').style.display = tab === 'reqs' ? 'block' : 'none';
  }

  function copied(btn) {
    btn.textContent = 'Copie !';
    btn.className = 'copy-btn copied';
    setTimeout(() => { btn.textContent = 'Copier'; btn.className = 'copy-btn'; }, 2000);
  }

  function toggleDropdown() { document.getElementById('user-dd').classList.toggle('open'); }
  function closeDropdown() { document.getElementById('user-dd').classList.remove('open'); }
  document.addEventListener('click', e => { if (!e.target.closest('.user-menu-wrap')) closeDropdown(); });

  function doLogin() {
    document.getElementById('navbar').style.display = 'flex';
    showPage('send');
  }

  function toggleCreateUser() {
    const p = document.getElementById('create-user-panel');
    p.style.display = p.style.display === 'none' ? 'block' : 'none';
  }

  function updateAppName() {
    const val = document.getElementById('app-name-input').value || 'Filyo';
    showToast('Nom mis a jour : ' + val);
  }

  function saveBaseUrl() {
    const val = (document.getElementById('base-url-input').value || 'http://localhost:3000').replace(/\/+$/, '');
    document.getElementById('base-url-input').value = val;
    document.getElementById('url-preview').textContent = val + '/s/xK9mPqR3';
    // Mettre a jour tous les liens de partage affiches
    document.querySelectorAll('.share-link').forEach(el => {
      const path = el.textContent.replace(/^https?:\/\/[^\/]+/, '');
      el.textContent = val + path;
    });
    showToast('&#x2705; Adresse du site enregistree !');
  }

  function uploadLogoDemo() {
    const box = document.getElementById('logo-box');
    box.innerHTML = '&#x1F98B;';
    box.style.fontSize = '44px';
    showToast('Logo mis a jour !');
  }

  function deleteLogoDemo() {
    const box = document.getElementById('logo-box');
    box.innerHTML = '&#x21C5;';
    box.style.fontSize = '38px';
    showToast('Logo supprime');
  }

  /* ---- Theme ---- */
  let _currentTheme = 'dark';
  function syncThemeBtns() {
    ['dark','light','auto'].forEach(m => {
      const btn = document.getElementById('tbtn-' + m);
      if (btn) btn.classList.toggle('active', m === _currentTheme);
    });
  }
  function setTheme(mode) {
    _currentTheme = mode;
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const isDark = mode === 'dark' || (mode === 'auto' && prefersDark);
    document.body.classList.toggle('light', !isDark);
    // Reset bg overrides sur les deux elements
    document.documentElement.style.removeProperty('--s900');
    document.documentElement.style.removeProperty('--s800');
    document.documentElement.style.removeProperty('--s700');
    document.body.style.removeProperty('--s900');
    document.body.style.removeProperty('--s800');
    document.body.style.removeProperty('--s700');
    syncThemeBtns();
    syncBgSwatches();
    showToast(mode === 'dark' ? '&#x1F319; Theme sombre' : mode === 'light' ? '&#x2600;&#xFE0F; Theme clair' : '&#x1F4BB; Automatique');
  }
  // Init: detect system preference
  if (window.matchMedia('(prefers-color-scheme: light)').matches) { _currentTheme = 'light'; document.body.classList.add('light'); }
  // Sync initial state once DOM ready
  document.addEventListener('DOMContentLoaded', () => { syncThemeBtns(); syncBgSwatches(); });

  /* ---- Accent color ---- */
  function setAccent(hex, rgb, light, dark, el) {
    const r = document.documentElement;
    r.style.setProperty('--brand', rgb);
    r.style.setProperty('--brand-hex', hex);
    r.style.setProperty('--brand-light', light);
    r.style.setProperty('--brand-dark', dark);
    document.querySelectorAll('.accent-swatch').forEach(s => s.classList.remove('active'));
    if (el) el.classList.add('active');
    showToast('&#x2705; Couleur appliquee !');
  }

  /* ---- Avatar demo ---- */
  function handleAvatarFile(input) {
    if (!input.files || !input.files[0]) return;
    const file = input.files[0];
    if (file.size > 3 * 1024 * 1024) { showToast('&#x26A0;&#xFE0F; Fichier trop grand (max 3 Mo)'); return; }
    const reader = new FileReader();
    reader.onload = function(e) {
      const box = document.getElementById('profile-avatar-box');
      box.innerHTML = '<img src="' + e.target.result + '" style="width:100%;height:100%;object-fit:cover"/>';
      document.getElementById('del-avatar-btn').style.display = 'flex';
      const navCircle = document.getElementById('nav-avatar-circle');
      if (navCircle) navCircle.innerHTML = '<img src="' + e.target.result + '" style="width:100%;height:100%;object-fit:cover;border-radius:8px"/>';
      showToast('&#x2705; Photo de profil mise a jour !');
    };
    reader.readAsDataURL(file);
    input.value = '';
  }

  function uploadAvatarDemo() {
    document.getElementById('avatar-file-input').click();
  }

  function deleteAvatarDemo() {
    const box = document.getElementById('profile-avatar-box');
    box.innerHTML = 'A';
    document.getElementById('del-avatar-btn').style.display = 'none';
    const navCircle = document.getElementById('nav-avatar-circle');
    if (navCircle) navCircle.innerHTML = 'AS';
    showToast('&#x1F5D1; Photo supprimee');
  }

  function saveName() {
    const val = document.getElementById('profile-name').value.trim() || 'Utilisateur';
    showToast('Nom mis a jour : ' + val);
  }

  /* ---- Background color ---- */
  function syncBgSwatches() {
    const isLight = document.body.classList.contains('light');
    document.getElementById('bg-dark-swatches').style.display = isLight ? 'none' : 'flex';
    document.getElementById('bg-light-swatches').style.display = isLight ? 'flex' : 'none';
  }

  function setBgColor(s900, s800, s700, el) {
    // En theme clair les vars sont sur body, en sombre sur :root
    const target = document.body.classList.contains('light') ? document.body : document.documentElement;
    target.style.setProperty('--s900', s900);
    target.style.setProperty('--s800', s800);
    target.style.setProperty('--s700', s700);
    document.querySelectorAll('.bg-swatch').forEach(s => s.classList.remove('active'));
    if (el) el.classList.add('active');
    showToast('&#x2705; Fond applique !');
  }

  /* ---- SMTP test demo ---- */
  function testSmtpDemo() {
    const btn = event.target;
    const orig = btn.innerHTML;
    btn.innerHTML = '&#x23F3; Test en cours...';
    btn.disabled = true;
    setTimeout(() => {
      btn.innerHTML = orig;
      btn.disabled = false;
      showToast('&#x2705; Connexion SMTP reussie !');
    }, 1800);
  }

  /* ---- Users page tabs ---- */
  function adminTabSelect(tab) {
    ['ut-users','ut-files','ut-deps'].forEach(id => {
      const d = document.getElementById(id);
      if (d) d.style.display = 'none';
    });
    const map = {'users':'ut-users','files':'ut-files','deposits':'ut-deps'};
    const target = document.getElementById(map[tab]);
    if (target) target.style.display = 'block';
  }

  function usersTab(tab, el) {
    document.querySelectorAll('#users-tabs .tab').forEach(t => t.classList.remove('active'));
    el.classList.add('active');
    ['ut-users','ut-files','ut-deps'].forEach(id => {
      const d = document.getElementById(id);
      if (d) d.style.display = 'none';
    });
    const tabMap = {'users':'ut-users','files':'ut-files','deps':'ut-deps'};
    const target = document.getElementById(tabMap[tab]);
    if (target) target.style.display = 'block';
  }

  function showToast(msg) {
    const t = document.createElement('div');
    t.innerHTML = msg;
    t.style.cssText = 'position:fixed;bottom:80px;left:50%;transform:translateX(-50%);background:#1c1f3a;border:1px solid rgba(92,107,250,.4);color:#fff;font-size:13px;font-weight:500;padding:10px 20px;border-radius:99px;z-index:400;box-shadow:0 8px 20px rgba(0,0,0,.4);white-space:nowrap;animation:fadeIn .2s ease';
    document.body.appendChild(t);
    setTimeout(() => t.remove(), 2500);
  }
</script>
</body>
</html>
